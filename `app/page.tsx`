"use client"

import { useState, useEffect } from "react"
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card"
import { Badge } from "@/components/ui/badge"
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs"
import { Brain, Network, Zap, Users, Bot, Cpu, Activity, Package, Plane } from 'lucide-react'
import AircraftBrains from "./components/aircraft-brains"
import IntelligenceNetwork from "./components/intelligence-network"
import PilotBehaviorAnalysis from "./components/pilot-behavior-analysis"
import AutonomousNegotiation from "./components/autonomous-negotiation"
import PredictiveEcosystem from "./components/predictive-ecosystem"
import CognitiveInsights from "./components/cognitive-insights"
import VendorMonitoring from "./components/vendor-monitoring"
import FleetOverview from "./components/fleet-overview"
import ProductionFleetDashboard from "./components/production-fleet-dashboard"

export default function AOGNeuralDashboard() {
  const [activeTab, setActiveTab] = useState("production")
  const [networkActivity, setNetworkActivity] = useState(0)
  const [autonomousDecisions, setAutonomousDecisions] = useState(0)

  // Simulate real-time network activity
  useEffect(() => {
    const interval = setInterval(() => {
      setNetworkActivity((prev) => (prev + Math.random() * 10) % 100)
      setAutonomousDecisions((prev) => prev + Math.floor(Math.random() * 3))
    }, 2000)
    return () => clearInterval(interval)
  }, [])

  const fleetIntelligence = {
    totalAircraftBrains: 75, // Expanded from 47
    activeConnections: 234, // Increased connections
    knowledgeExchanges: 4250, // More exchanges
    autonomousDecisions: autonomousDecisions,
    cognitiveAccuracy: 97.8, // Improved accuracy
    learningRate: 18.4, // Faster learning
  }

  return (
    <div className="min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100">
      {/* Header */}
      <header className="bg-white shadow-sm border-b border-slate-200">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="flex justify-between items-center py-4">
            <div className="flex items-center space-x-3">
              <div className="bg-gradient-to-r from-slate-700 to-blue-700 p-2 rounded-lg">
                <Brain className="h-6 w-6 text-white" />
              </div>
              <div>
                <h1 className="text-2xl font-bold bg-gradient-to-r from-slate-700 to-blue-700 bg-clip-text text-transparent">
                  AOG-Neural
                </h1>
                <p className="text-sm text-gray-600">Neural-Powered Aircraft Ground Time Elimination</p>
              </div>
            </div>
            <div className="flex items-center space-x-4">
              <Badge variant="outline" className="bg-blue-50 text-blue-700 border-blue-200">
                <Activity className="h-3 w-3 mr-1" />
                Neural Activity: {networkActivity.toFixed(1)}%
              </Badge>
              <Badge variant="outline" className="bg-slate-50 text-slate-700 border-slate-200">
                <Bot className="h-3 w-3 mr-1" />
                AOG Prevented: {autonomousDecisions}
              </Badge>
            </div>
          </div>
        </div>
      </header>

      {/* Main Content */}
      <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        {/* Intelligence Overview Cards */}
        <div className="grid grid-cols-1 md:grid-cols-4 lg:grid-cols-8 gap-4 mb-8">
          <Card className="bg-gradient-to-r from-slate-600 to-slate-700 text-white">
            <CardHeader className="pb-2">
              <CardTitle className="text-sm font-medium opacity-90">Fleet Coverage</CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-2xl font-bold">{fleetIntelligence.totalAircraftBrains}</div>
              <p className="text-xs opacity-75">Aircraft + Cargo</p>
            </CardContent>
          </Card>

          <Card className="bg-gradient-to-r from-blue-600 to-blue-700 text-white">
            <CardHeader className="pb-2">
              <CardTitle className="text-sm font-medium opacity-90">Neural Links</CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-2xl font-bold">{fleetIntelligence.activeConnections}</div>
              <p className="text-xs opacity-75">AI Connections</p>
            </CardContent>
          </Card>

          <Card className="bg-gradient-to-r from-indigo-600 to-indigo-700 text-white">
            <CardHeader className="pb-2">
              <CardTitle className="text-sm font-medium opacity-90">Data Synapses</CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-2xl font-bold">{fleetIntelligence.knowledgeExchanges.toLocaleString()}</div>
              <p className="text-xs opacity-75">Today</p>
            </CardContent>
          </Card>

          <Card className="bg-gradient-to-r from-green-600 to-green-700 text-white">
            <CardHeader className="pb-2">
              <CardTitle className="text-sm font-medium opacity-90">AOG Prevented</CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-2xl font-bold">{fleetIntelligence.autonomousDecisions}</div>
              <p className="text-xs opacity-75">This Session</p>
            </CardContent>
          </Card>

          <Card className="bg-gradient-to-r from-red-600 to-red-700 text-white">
            <CardHeader className="pb-2">
              <CardTitle className="text-sm font-medium opacity-90">Parts Shortage</CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-2xl font-bold">7</div>
              <p className="text-xs opacity-75">Critical Items</p>
            </CardContent>
          </Card>

          <Card className="bg-gradient-to-r from-yellow-600 to-yellow-700 text-white">
            <CardHeader className="pb-2">
              <CardTitle className="text-sm font-medium opacity-90">Vendor Delays</CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-2xl font-bold">3</div>
              <p className="text-xs opacity-75">Active Issues</p>
            </CardContent>
          </Card>

          <Card className="bg-gradient-to-r from-teal-600 to-teal-700 text-white">
            <CardHeader className="pb-2">
              <CardTitle className="text-sm font-medium opacity-90">Neural Accuracy</CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-2xl font-bold">{fleetIntelligence.cognitiveAccuracy}%</div>
              <p className="text-xs opacity-75">Prediction Rate</p>
            </CardContent>
          </Card>

          <Card className="bg-gradient-to-r from-orange-600 to-orange-700 text-white">
            <CardHeader className="pb-2">
              <CardTitle className="text-sm font-medium opacity-90">Learning Rate</CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-2xl font-bold">{fleetIntelligence.learningRate}%</div>
              <p className="text-xs opacity-75">Weekly Growth</p>
            </CardContent>
          </Card>
        </div>

        {/* Main Dashboard Tabs */}
        <Tabs value={activeTab} onValueChange={setActiveTab} className="space-y-6">
          <TabsList className="grid w-full grid-cols-9 bg-white shadow-sm">
            <TabsTrigger value="production" className="data-[state=active]:bg-slate-100">
              <Plane className="h-4 w-4 mr-2" />
              Production
            </TabsTrigger>
            <TabsTrigger value="fleet" className="data-[state=active]:bg-slate-100">
              <Plane className="h-4 w-4 mr-2" />
              Fleet Overview
            </TabsTrigger>
            <TabsTrigger value="brains" className="data-[state=active]:bg-slate-100">
              <Brain className="h-4 w-4 mr-2" />
              Neural Nodes
            </TabsTrigger>
            <TabsTrigger value="network" className="data-[state=active]:bg-blue-100">
              <Network className="h-4 w-4 mr-2" />
              Neural Network
            </TabsTrigger>
            <TabsTrigger value="behavior" className="data-[state=active]:bg-indigo-100">
              <Users className="h-4 w-4 mr-2" />
              Behavioral AI
            </TabsTrigger>
            <TabsTrigger value="negotiation" className="data-[state=active]:bg-green-100">
              <Bot className="h-4 w-4 mr-2" />
              AOG Prevention
            </TabsTrigger>
            <TabsTrigger value="ecosystem" className="data-[state=active]:bg-teal-100">
              <Zap className="h-4 w-4 mr-2" />
              Predictive Engine
            </TabsTrigger>
            <TabsTrigger value="vendor" className="data-[state=active]:bg-red-100">
              <Package className="h-4 w-4 mr-2" />
              Vendor Monitor
            </TabsTrigger>
            <TabsTrigger value="insights" className="data-[state=active]:bg-orange-100">
              <Cpu className="h-4 w-4 mr-2" />
              Neural Insights
            </TabsTrigger>
          </TabsList>

          <TabsContent value="production">
            <ProductionFleetDashboard />
          </TabsContent>

          <TabsContent value="fleet">
            <FleetOverview />
          </TabsContent>

          <TabsContent value="brains">
            <AircraftBrains />
          </TabsContent>

          <TabsContent value="network">
            <IntelligenceNetwork />
          </TabsContent>

          <TabsContent value="behavior">
            <PilotBehaviorAnalysis />
          </TabsContent>

          <TabsContent value="negotiation">
            <AutonomousNegotiation />
          </TabsContent>

          <TabsContent value="ecosystem">
            <PredictiveEcosystem />
          </TabsContent>

          <TabsContent value="vendor">
            <VendorMonitoring />
          </TabsContent>

          <TabsContent value="insights">
            <CognitiveInsights />
          </TabsContent>
        </Tabs>
      </main>
    </div>
  )
}
